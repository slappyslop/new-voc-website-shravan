{% extends "base.html" %}

{% block title %}Gearmaster{% endblock %}

{% block head_content %}
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" rel="stylesheet" />
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('input[name="rentalType"]').forEach(input => {
                input.addEventListener('change', function() {
                    const selectedRentalType = this.value;
                    window.location.href = `/gear/rentals/create/${selectedRentalType}`;
                })
            });

            // Initialize searchable member dropdown
            const memberSelect = document.getElementById("member-select");
            if (memberSelect) {
                new Choices(memberSelect, {
                    searchEnabled: true
                });
            }
        });
    </script>
{% endblock %}

{% block content %}
    <div class="container">
        <h2>Create Rental</h2>
        <form method="post">
            {% csrf_token %}
            {{ form.as_p }}

            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
{% endblock %}